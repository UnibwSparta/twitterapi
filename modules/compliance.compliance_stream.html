

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>twitterapi.compliance.compliance_stream module &mdash; Sparta Twitterapi</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="twitterapi.compliance.compliance module" href="compliance.compliance.html" />
    <link rel="prev" title="twitterapi.compliance" href="compliance.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            sparta.twitterapi
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Overview:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../README.html">SPARTA Twitter API</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="compliance.html">twitterapi.compliance</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">twitterapi.compliance.compliance_stream module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sparta.twitterapi.compliance.compliance_stream.get_tweet_compliance_stream"><code class="docutils literal notranslate"><span class="pre">get_tweet_compliance_stream()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sparta.twitterapi.compliance.compliance_stream.get_user_compliance_stream"><code class="docutils literal notranslate"><span class="pre">get_user_compliance_stream()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="compliance.compliance.html">twitterapi.compliance.compliance module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="models.html">twitterapi.models</a></li>
<li class="toctree-l1"><a class="reference internal" href="users.html">twitterapi.users</a></li>
<li class="toctree-l1"><a class="reference internal" href="trends.html">twitterapi.trends</a></li>
<li class="toctree-l1"><a class="reference internal" href="tweets.html">twitterapi.tweets</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">twitterapi.usage module</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">sparta.twitterapi</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="compliance.html">twitterapi.compliance</a></li>
      <li class="breadcrumb-item active">twitterapi.compliance.compliance_stream module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/modules/compliance.compliance_stream.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-sparta.twitterapi.compliance.compliance_stream">
<span id="twitterapi-compliance-compliance-stream-module"></span><h1>twitterapi.compliance.compliance_stream module<a class="headerlink" href="#module-sparta.twitterapi.compliance.compliance_stream" title="Link to this heading"></a></h1>
<p>compliance_stream.py: Implementation of Twitter compliance stream endpoint.</p>
<p>“Twitter is committed to our community of developers who build with the Twitter API. As part of this commitment, we aim to make our API open and fair to
developers, safe for people on Twitter, and beneficial for the Twitter platform as a whole. It is crucial that any developer who stores Twitter content
offline, ensures the data reflects user intent and the current state of content on Twitter. For example, when someone on Twitter deletes a Tweet or their
account, protects their Tweets, edits a Tweet, or scrubs the geo information from their Tweets, it is critical for both Twitter and our developers to honor
that person’s expectations and intent.” (Source: <a class="reference external" href="https://developer.twitter.com/en/docs/twitter-api/compliance/streams/introduction">https://developer.twitter.com/en/docs/twitter-api/compliance/streams/introduction</a>)</p>
<p>Find the Open API Spec under: <a class="reference external" href="https://api.twitter.com/2/openapi.json">https://api.twitter.com/2/openapi.json</a></p>
<p class="rubric">Examples</p>
<p>Start the compliance stream for tweets:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;BEARER_TOKEN&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;xxxxxxxxxxx&quot;</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sparta.twitterapi.compliance.compliance_stream</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_tweet_compliance_stream</span>

<span class="k">async</span> <span class="k">for</span> <span class="n">complianceEvent</span> <span class="ow">in</span> <span class="n">get_tweet_compliance_stream</span><span class="p">(</span><span class="n">partition</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">complianceEvent</span><span class="p">)</span>
</pre></div>
</div>
<p>Start the compliance stream for users:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;BEARER_TOKEN&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;xxxxxxxxxxx&quot;</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sparta.twitterapi.compliance.compliance_stream</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_user_compliance_stream</span>

<span class="k">async</span> <span class="k">for</span> <span class="n">complianceEvent</span> <span class="ow">in</span> <span class="n">get_user_compliance_stream</span><span class="p">(</span><span class="n">partition</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">complianceEvent</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py function">
<dt class="sig sig-object py" id="sparta.twitterapi.compliance.compliance_stream.get_tweet_compliance_stream">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sparta.twitterapi.compliance.compliance_stream.</span></span><span class="sig-name descname"><span class="pre">get_tweet_compliance_stream</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">partition</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backfill_minutes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">AsyncGenerator</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="models.twitter_v2_spec.html#sparta.twitterapi.models.twitter_v2_spec.TweetComplianceStreamResponse1" title="sparta.twitterapi.models.twitter_v2_spec.TweetComplianceStreamResponse1"><span class="pre">TweetComplianceStreamResponse1</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#sparta.twitterapi.compliance.compliance_stream.get_tweet_compliance_stream" title="Link to this definition"></a></dt>
<dd><p>Get an asynchronous tweet compliance-stream as generator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>partition</strong> (<em>int</em><em>, </em><em>optional</em>) – Must be set to 1, 2, 3 or 4. Tweet compliance events are split across 4 partitions, so 4 separate streams are needed to
receive all events. Defaults to 1.</p></li>
<li><p><strong>backfill_minutes</strong> (<em>Optional</em><em>[</em><em>int</em><em>]</em><em>, </em><em>optional</em>) – The number of minutes of backfill requested. By passing this parameter, you can recover up to five
minutes worth of data that you might have missed during a disconnection. Defaults to None.</p></li>
<li><p><strong>start_time</strong> (<em>Optional</em><em>[</em><em>datetime</em><em>]</em><em>, </em><em>optional</em>) – The earliest UTC timestamp from which the Tweet Compliance events will be provided. Defaults to None.</p></li>
<li><p><strong>end_time</strong> (<em>Optional</em><em>[</em><em>datetime</em><em>]</em><em>, </em><em>optional</em>) – The latest UTC timestamp to which the Tweet Compliance events will be provided. Defaults to None.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>Exception</strong> – Cannot open the stream due to an http error.</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>AsyncGenerator that yields Twitter TweetComplianceStreamResponse1 objects.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>AsyncGenerator[<a class="reference internal" href="models.twitter_v2_spec.html#sparta.twitterapi.models.twitter_v2_spec.TweetComplianceStreamResponse1" title="sparta.twitterapi.models.twitter_v2_spec.TweetComplianceStreamResponse1">TweetComplianceStreamResponse1</a>, None]</p>
</dd>
<dt class="field-odd">Yields<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>Iterator[AsyncGenerator[TweetComplianceStreamResponse1, None]]</em> – A Twitter TweetComplianceStreamResponse1 object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sparta.twitterapi.compliance.compliance_stream.get_user_compliance_stream">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sparta.twitterapi.compliance.compliance_stream.</span></span><span class="sig-name descname"><span class="pre">get_user_compliance_stream</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">partition</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backfill_minutes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">AsyncGenerator</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="models.twitter_v2_spec.html#sparta.twitterapi.models.twitter_v2_spec.UserComplianceStreamResponse1" title="sparta.twitterapi.models.twitter_v2_spec.UserComplianceStreamResponse1"><span class="pre">UserComplianceStreamResponse1</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#sparta.twitterapi.compliance.compliance_stream.get_user_compliance_stream" title="Link to this definition"></a></dt>
<dd><p>Get an asynchronous user compliance-stream as generator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>partition</strong> (<em>int</em><em>, </em><em>optional</em>) – Must be set to 1, 2, 3 or 4. User compliance events are split across 4 partitions, so 4 separate streams are needed to
receive all events. Defaults to 1.</p></li>
<li><p><strong>backfill_minutes</strong> (<em>Optional</em><em>[</em><em>int</em><em>]</em><em>, </em><em>optional</em>) – The number of minutes of backfill requested. By passing this parameter, you can recover up to five
minutes worth of data that you might have missed during a disconnection. Defaults to None.</p></li>
<li><p><strong>start_time</strong> (<em>Optional</em><em>[</em><em>datetime</em><em>]</em><em>, </em><em>optional</em>) – The earliest UTC timestamp from which the Tweet Compliance events will be provided. Defaults to None.</p></li>
<li><p><strong>end_time</strong> (<em>Optional</em><em>[</em><em>datetime</em><em>]</em><em>, </em><em>optional</em>) – The latest UTC timestamp to which the Tweet Compliance events will be provided. Defaults to None.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>Exception</strong> – Cannot open the stream due to an http error.</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>AsyncGenerator that yields Twitter UserComplianceStreamResponse1 objects.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>AsyncGenerator[<a class="reference internal" href="models.twitter_v2_spec.html#sparta.twitterapi.models.twitter_v2_spec.UserComplianceStreamResponse1" title="sparta.twitterapi.models.twitter_v2_spec.UserComplianceStreamResponse1">UserComplianceStreamResponse1</a>, None]</p>
</dd>
<dt class="field-odd">Yields<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>Iterator[AsyncGenerator[UserComplianceStreamResponse1, None]]</em> – A Twitter UserComplianceStreamResponse1 object.</p>
</dd>
</dl>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="compliance.html" class="btn btn-neutral float-left" title="twitterapi.compliance" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="compliance.compliance.html" class="btn btn-neutral float-right" title="twitterapi.compliance.compliance module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Neumeier, Riedl, Metzner, Radtke.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>